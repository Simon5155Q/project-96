<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8' />
<link href='../lib/main.css' rel='stylesheet' />
<script src='../lib/main.js'></script>
<script src='../lib/google-calendar.js'></script>
<script>

  document.addEventListener('DOMContentLoaded', function() {
    var calendarEl = document.getElementById('calendar');

    var time = new Date(); 

    var calendar = new FullCalendar.Calendar(calendarEl, {
      now: '2022-03-24',
      droppable: true,
      editable: true, 
      aspectRatio: 1.8,
      scrollTime: '00:00', 
      headerToolbar: {
        left: 'today prev,next',
        center: 'title',
        right: 'timelineMonth,timelineYear'
      },
      initialView: 'dayGridMonth',

      googleCalendarApiKey: 'AIzaSyDScbVYmnjft3TOUQ5hGYEL0KZE5uthumw',

      events:'unknownkenunknown@gmail.com',

      eventClick: function(arg) {
        // opens events in a popup window
        open(arg.event.url, 'gcalevent', 'width=700,height=600');
      //   console.log(arg.event._def.extendedProps)
      //   var cache = [];
      // var newww = JSON.stringify(arg.event._def.extendedProps, (key, value) => {
      //   if (typeof value === 'object' && value !== null) {
      //     if (cache.includes(value)) return;
      //     cache.push(value);
      //   }
      //   return value;
      // })
      // cache = null
      // newww = split(" ")
      // document.write(newww)
      // console.log(arg.event)
        arg.jsEvent.preventDefault() 
      }
      
    });

    // var test = calendar.currentData
    // console.log(test)

   /* var cache = [];
      console.log(JSON.stringify(test, (key, value) => {
        if (typeof value === 'object' && value !== null) {
          if (cache.includes(value)) return;
          cache.push(value);
        }
        return value;
      }))
      cache = null*/
    // window.prompt()
    // console.log(test)
    calendar.render();
    // document.write(test) 
  });

</script>

<style>

  body {
    margin: 0;
    padding: 0;
    font-family: Arial, Helvetica Neue, Helvetica, sans-serif;
    font-size: 14px;
  }

  #calendar {
    max-width: 1100px;
    margin: 50px auto;
  }

</style>
</head>
<body>

  <div id='calendar'></div>


</body>
</html>
